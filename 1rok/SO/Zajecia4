#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdio.h>
/*
int main(int argc, char* argv) {
    int fd = open(argv[1],O_RDONLY);
    printf("fd = %d\n", fd);
    long rozmiar = lseek(fd, 0, SEEK_END);

    if (rozmiar >= 20) lseek(fd, -20, SEEK_END);
    else lseek(fd, -rozmiar, SEEK_END);

    lseek(fd, -20, SEEK_END);
    char bufor[21]; //bufor[20] = '\0'
    int odczytanie = read(fd, bufor, 20);
    write(STDOUT_FILENO, bufor, odczytanie);
    bufor[odczytanie] = 0;
    printf("%s\n", bufor);
    close(fd);
    return 0;
}
*/

int main(int argc, char* argv) {
    int fd = open(argv[1], O_RDONLY);

    if (fd == -1) {
        perror("Blad open");
        return 1;}

    if (dup2(fd, 1) == -1) {
        perror("Blad");
        return 1;}
    
    int x = printf("OK");
    fprintf(stderr, "%d\n", x);
    return 0;
}